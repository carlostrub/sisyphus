language: go

go:
  - 1.10.x
  - master

cache:
  directories:
  - $GOPATH/src

addons:
  sonarcloud:
    organization: "319"
    projectKey: "sisyphus"

install:
  - go get -u github.com/golang/dep/cmd/dep 
  - dep ensure
  - go get -u github.com/onsi/ginkgo/ginkgo 
  - go get -u github.com/onsi/gomega/... 

script:
  - sonar-scanner
  - ginkgo -r --randomizeAllSpecs --randomizeSuites --race
